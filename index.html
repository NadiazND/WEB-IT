<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>PT. Teknologi Maju — Responsive Mobile Nav & Theme Switch</title>

  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg:#071428;
      --panel:#071a2a;
      --accent:#1FB6C7;
      --accent-2:#0EA5A4;
      --text:#E6F7FA;
      --muted:#9FB7C4;
      --card:#0A1A26;
      --glass: rgba(230,247,250,0.03);
      --radius:12px;
      --max-width:1100px;
      --sidebar-w:84px;
      --sidebar-w-open:260px;
      --topbar-h:64px;
      --gap:18px;
      --transition:220ms cubic-bezier(.2,.9,.3,1);
    }

    /* Light theme variables */
    html.light-theme{
      --bg:#F6FBFC;
      --panel:#F0F7F8;
      --accent:#0EA5A4;
      --accent-2:#1FB6C7;
      --text:#042028;
      --muted:#4B6B72;
      --card:#FFFFFF;
      --glass: rgba(4,16,34,0.03);
    }

    *{box-sizing:border-box}
    html,body{height:100%;margin:0;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial;background:linear-gradient(180deg,var(--bg) 0%, var(--panel) 100%);color:var(--text);-webkit-font-smoothing:antialiased;line-height:1.45;scroll-behavior:smooth;transition:background var(--transition),color var(--transition)}
    a{color:inherit}

    /* App layout */
    .app{ display:grid; grid-template-columns: var(--sidebar-w) 1fr; min-height:100vh; transition: grid-template-columns var(--transition); }
    .app.sidebar-open{ grid-template-columns: var(--sidebar-w-open) 1fr; }

    /* Sidebar (desktop / tablet) */
    .sidebar{ position:sticky; top:0; height:100vh; padding:18px 12px; background:linear-gradient(180deg, rgba(4,16,34,0.9), rgba(4,20,36,0.85)); border-right:1px solid rgba(255,255,255,0.03); display:flex; flex-direction:column; gap:var(--gap); align-items:center; transition: width var(--transition), padding var(--transition), transform var(--transition); z-index:90; }
    .app.sidebar-open .sidebar{ align-items:flex-start; padding:18px; }
    .brand-compact{ width:48px; height:48px; border-radius:12px; background:linear-gradient(135deg,var(--accent),var(--accent-2)); display:flex; align-items:center; justify-content:center; font-weight:800; color:#042028; box-shadow:0 10px 30px rgba(15,182,199,0.08); cursor:pointer; }
    .brand-full{ display:none; gap:12px; align-items:center; color:var(--text); text-decoration:none; }
    .app.sidebar-open .brand-full{ display:flex; }

    .nav{ display:flex; flex-direction:column; gap:10px; width:100%; align-items:center; }
    .app.sidebar-open .nav{ align-items:flex-start; }

    .nav-item{ display:flex; gap:12px; align-items:center; width:100%; padding:10px 12px; border-radius:10px; color:var(--muted); text-decoration:none; font-weight:600; transition: background var(--transition), color var(--transition); }
    .nav-item:hover{ background:rgba(255,255,255,0.02); color:var(--text); transform: translateY(-3px); }
    .nav-item .icon{ width:36px; height:36px; display:flex; align-items:center; justify-content:center; color:var(--muted); flex-shrink:0; }
    .nav-item .label{ display:none; white-space:nowrap; }
    .app.sidebar-open .nav-item .label{ display:inline-block; }
    .nav-item.active{ background:linear-gradient(90deg, rgba(31,182,199,0.08), rgba(14,165,164,0.06)); color:var(--accent); }

    .sidebar-footer{ margin-top:auto; width:100%; display:flex; gap:8px; align-items:center; justify-content:center; }
    .app.sidebar-open .sidebar-footer{ justify-content:flex-start; }

    .toggle-sidebar{ width:44px; height:44px; border-radius:10px; background:transparent; border:1px solid rgba(255,255,255,0.03); color:var(--muted); display:flex; align-items:center; justify-content:center; cursor:pointer; transition: background var(--transition), color var(--transition); }
    .toggle-sidebar:hover{ background:var(--glass); color:var(--text); transform: translateY(-3px); }

    .theme-btn{ width:44px; height:44px; border-radius:10px; display:flex; align-items:center; justify-content:center; background:transparent; border:1px solid rgba(255,255,255,0.03); color:var(--muted); cursor:pointer; transition: background var(--transition), transform var(--transition), color var(--transition); }
    .theme-btn:hover{ background:var(--glass); color:var(--text); transform: translateY(-3px); }

    /* Topbar (mobile) */
    .topbar{ display:flex; align-items:center; justify-content:space-between; gap:12px; padding:8px 12px; border-bottom:1px solid rgba(255,255,255,0.03); background:transparent; position:sticky; top:0; z-index:95; height:var(--topbar-h); }
    .topbar .left, .topbar .right{ display:flex; align-items:center; gap:8px; }

    .mobile-hamburger, .mobile-theme{
      width:44px; height:44px; border-radius:10px; display:flex; align-items:center; justify-content:center; background:transparent; border:1px solid rgba(255,255,255,0.03); color:var(--muted); cursor:pointer; transition: background var(--transition), color var(--transition);
    }
    .mobile-hamburger:hover, .mobile-theme:hover{ background:var(--glass); color:var(--text); transform: translateY(-3px); }

    /* Mobile nav overlay */
    .mobile-nav-backdrop{ position:fixed; inset:0; background:rgba(2,6,23,0.6); display:none; align-items:flex-start; justify-content:flex-end; z-index:200; transition: opacity var(--transition); }
    .mobile-nav-backdrop.open{ display:flex; opacity:1; }
    .mobile-nav{ width:320px; max-width:92%; height:100vh; background:linear-gradient(180deg,var(--panel), rgba(255,255,255,0.02)); padding:18px; box-shadow: -20px 0 60px rgba(2,6,23,0.6); overflow:auto; }
    .mobile-nav .nav-section{ margin-bottom:12px; border-bottom:1px solid rgba(255,255,255,0.03); padding-bottom:12px; }
    .mobile-nav .nav-section h4{ margin:0 0 8px 0; font-size:14px; }
    .mobile-nav .nav-list{ display:flex; flex-direction:column; gap:6px; }
    .mobile-nav .nav-list button{ text-align:left; padding:10px 12px; border-radius:8px; background:transparent; border:0; color:var(--text); font-weight:600; cursor:pointer; display:flex; justify-content:space-between; align-items:center; }
    .mobile-nav .sub-list{ margin-top:6px; display:none; flex-direction:column; gap:6px; padding-left:8px; }
    .mobile-nav .sub-list a{ padding:8px 10px; border-radius:8px; display:block; color:var(--muted); text-decoration:none; font-weight:500; }

    /* Section container */
    .section-container{ max-width:var(--max-width); margin:0 auto; padding:28px 20px; box-sizing:border-box; }
    section{ margin-top:18px; padding:18px; border-radius:12px; background:linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.00)); border:1px solid rgba(255,255,255,0.02); transition: background var(--transition), border-color var(--transition); }

    /* Hero & content */
    .hero{ display:flex; gap:24px; align-items:center; justify-content:space-between; }
    .hero-left{ max-width:60%; }
    .hero-left h1{ margin:0 0 12px 0; font-size:28px; line-height:1.05; }
    .hero-left p{ margin:0 0 16px 0; color:var(--muted); font-size:15px; }
    .hero-right img{ width:360px; height:240px; object-fit:cover; border-radius:12px; box-shadow:0 18px 50px rgba(2,6,23,0.45); }

    .grid-3{ display:grid; grid-template-columns:repeat(3,1fr); gap:16px; }
    .card{ padding:16px; border-radius:10px; background:rgba(255,255,255,0.01); border:1px solid rgba(255,255,255,0.02); }
    .muted{ color:var(--muted); font-size:14px; }

    /* Modal & toast */
    .modal-backdrop{ position:fixed; inset:0; background:rgba(2,6,23,0.6); display:flex; align-items:center; justify-content:center; z-index:220; opacity:0; pointer-events:none; transition: opacity var(--transition); }
    .modal-backdrop.open{ opacity:1; pointer-events:auto; }
    .modal{ width:min(720px,94%); background:linear-gradient(180deg,#041022, #071428); border-radius:14px; padding:20px; border:1px solid rgba(255,255,255,0.04); box-shadow:0 30px 80px rgba(2,6,23,0.7); transform: translateY(20px) scale(.98); transition: transform 320ms cubic-bezier(.2,.9,.3,1), opacity 240ms ease; opacity:0; }
    .modal-backdrop.open .modal{ transform: translateY(0) scale(1); opacity:1; }
    .toast{ position:fixed; right:20px; bottom:20px; background:linear-gradient(90deg,var(--accent),var(--accent-2)); color:#042028; padding:12px 16px; border-radius:12px; box-shadow:0 18px 50px rgba(2,6,23,0.5); transform: translateY(20px); opacity:0; pointer-events:none; transition: transform 300ms cubic-bezier(.2,.9,.3,1), opacity 300ms ease; z-index:240; }
    .toast.show{ transform: translateY(0); opacity:1; pointer-events:auto; }

    /* Buttons */
    .cta{ background:linear-gradient(90deg,var(--accent),var(--accent-2)); color:#042028; padding:10px 14px; border-radius:10px; border:0; font-weight:700; cursor:pointer; }
    .btn-outline{ padding:10px 14px; border-radius:10px; border:1px solid rgba(255,255,255,0.06); color:var(--text); background:transparent; cursor:pointer; }

    /* Responsive adjustments */
    @media (max-width:980px){
      .hero-right img{ width:280px; height:180px; }
      .grid-3{ grid-template-columns:repeat(2,1fr); }
    }
    @media (max-width:720px){
      .app{ grid-template-columns: 1fr; }
      .sidebar{ position:fixed; left:-100%; top:0; width:var(--sidebar-w-open); transform:translateX(-8px); transition: transform var(--transition), left var(--transition); z-index:100; }
      .app.sidebar-open .sidebar{ left:0; transform:translateX(0); }
      .topbar{ display:flex; }
      .hero{ flex-direction:column; align-items:flex-start; gap:12px; }
      .hero-right img{ width:100%; height:auto; }
      .grid-3{ grid-template-columns:1fr; }
      .mobile-only{ display:inline-flex; }
      .desktop-only{ display:none; }
    }
    @media (min-width:721px){
      .mobile-only{ display:none; }
      .desktop-only{ display:inline-flex; }
    }

    /* small animation */
    @keyframes float { 0%{ transform: translateY(0) } 50%{ transform: translateY(-6px) } 100%{ transform: translateY(0) } }
    .float{ animation: float 6s ease-in-out infinite; }

  </style>
</head>
<body>
  <div class="app" id="app">
    <!-- Sidebar (desktop/tablet) -->
    <aside class="sidebar" id="sidebar" aria-label="Sidebar navigasi">
      <div style="display:flex;gap:12px;align-items:center;width:100%;">
        <div class="brand-compact" id="brandCompact" title="PT. Teknologi Maju">TM</div>
        <a class="brand-full" href="#" id="brandFull">
          <div style="display:flex;flex-direction:column">
            <div style="font-weight:800">PT. Teknologi Maju</div>
            <div style="font-size:12px;color:var(--muted)">Solusi IT & Transformasi</div>
          </div>
        </a>
      </div>

      <nav class="nav" role="navigation" aria-label="Main">
        <button class="nav-btn desktop-only" id="homeBtn" title="Dashboard" aria-label="Dashboard">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none"><path d="M3 11.5L12 4l9 7.5V20a1 1 0 0 1-1 1h-5v-6H9v6H4a1 1 0 0 1-1-1v-8.5z" stroke="currentColor" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"/></svg>
        </button>

        <a class="nav-item" href="#services" data-target="services" id="navServices">
          <div class="icon"><svg width="18" height="18" viewBox="0 0 24 24" fill="none"><path d="M3 7h18M3 12h18M3 17h18" stroke="currentColor" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"/></svg></div>
          <span class="label">Layanan</span>
        </a>

        <a class="nav-item" href="#portfolio" data-target="portfolio" id="navPortfolio">
          <div class="icon"><svg width="18" height="18" viewBox="0 0 24 24" fill="none"><rect x="3" y="3" width="7" height="7" rx="1" stroke="currentColor" stroke-width="1.4"/><rect x="14" y="3" width="7" height="7" rx="1" stroke="currentColor" stroke-width="1.4"/><rect x="14" y="14" width="7" height="7" rx="1" stroke="currentColor" stroke-width="1.4"/></svg></div>
          <span class="label">Portofolio</span>
        </a>

        <a class="nav-item" href="#team" data-target="team" id="navTeam">
          <div class="icon"><svg width="18" height="18" viewBox="0 0 24 24" fill="none"><path d="M17 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2" stroke="currentColor" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"/><circle cx="12" cy="7" r="4" stroke="currentColor" stroke-width="1.4"/></svg></div>
          <span class="label">Tim</span>
        </a>

        <a class="nav-item" href="#careers" data-target="careers" id="navCareers">
          <div class="icon"><svg width="18" height="18" viewBox="0 0 24 24" fill="none"><path d="M12 2v6" stroke="currentColor" stroke-width="1.4" stroke-linecap="round"/><path d="M5 8h14" stroke="currentColor" stroke-width="1.4" stroke-linecap="round"/><path d="M7 22h10" stroke="currentColor" stroke-width="1.4" stroke-linecap="round"/></svg></div>
          <span class="label">Karir</span>
        </a>

        <a class="nav-item" href="#contact" data-target="contact" id="navContact">
          <div class="icon"><svg width="18" height="18" viewBox="0 0 24 24" fill="none"><path d="M21 10a8 8 0 1 0-18 0" stroke="currentColor" stroke-width="1.4" stroke-linecap="round"/><path d="M21 10v6a2 2 0 0 1-2 2H5" stroke="currentColor" stroke-width="1.4" stroke-linecap="round"/></svg></div>
          <span class="label">Kontak</span>
        </a>
      </nav>

      <div class="sidebar-footer">
        <button class="toggle-sidebar" id="toggleSidebar" title="Buka / Tutup menu" aria-label="Toggle sidebar">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none"><path d="M4 6h16M4 12h10M4 18h16" stroke="currentColor" stroke-width="1.4" stroke-linecap="round"/></svg>
        </button>

        <div style="flex:1;display:flex;justify-content:center" id="themeWrap">
          <button class="theme-btn" id="themeToggle" title="Toggle tema" aria-pressed="false" aria-label="Toggle tema gelap atau terang">
            <svg class="theme-icon" viewBox="0 0 24 24" width="18" height="18" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
              <path d="M12 3v2M12 19v2M4.2 4.2l1.4 1.4M18.4 18.4l1.4 1.4M1 12h2M21 12h2M4.2 19.8l1.4-1.4M17.66 6.34l1.41-1.41" stroke="currentColor" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"/>
              <circle cx="12" cy="12" r="3" stroke="currentColor" stroke-width="1.4"/>
            </svg>
          </button>
        </div>
      </div>
    </aside>

    <!-- Main column -->
    <div style="display:flex;flex-direction:column;min-height:100vh;">
      <!-- Topbar (mobile) -->
      <header class="topbar" role="banner" id="topbar">
        <div class="left">
          <button class="mobile-hamburger mobile-only" id="mobileMenuBtn" aria-label="Buka menu">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none"><rect width="18" height="2" rx="1" fill="currentColor"/><rect y="6" width="18" height="2" rx="1" fill="currentColor"/><rect y="12" width="18" height="2" rx="1" fill="currentColor"/></svg>
          </button>
          <div style="display:flex;align-items:center;gap:10px">
            <div style="font-weight:700">PT. Teknologi Maju</div>
            <div style="font-size:12px;color:var(--muted)" class="desktop-only">Solusi IT & Transformasi Digital</div>
          </div>
        </div>

        <div class="right">
          <button class="mobile-theme mobile-only" id="mobileThemeToggle" aria-label="Toggle tema">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z" stroke="currentColor" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"/></svg>
          </button>
        </div>
      </header>

      <!-- Mobile nav overlay -->
      <div class="mobile-nav-backdrop" id="mobileNavBackdrop" aria-hidden="true">
        <nav class="mobile-nav" id="mobileNav" aria-label="Navigasi utama">
          <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:12px">
            <div style="display:flex;gap:12px;align-items:center">
              <div style="width:44px;height:44px;border-radius:10px;background:linear-gradient(135deg,var(--accent),var(--accent-2));display:flex;align-items:center;justify-content:center;color:#042028;font-weight:800">TM</div>
              <div>
                <div style="font-weight:800">PT. Teknologi Maju</div>
                <div style="font-size:12px;color:var(--muted)">Solusi IT & Transformasi</div>
              </div>
            </div>
            <button id="mobileNavClose" aria-label="Tutup menu" style="background:transparent;border:0;color:var(--muted);font-size:20px;cursor:pointer">✕</button>
          </div>

          <!-- Expandable navigation lists -->
          <div class="nav-section">
            <h4>Menu</h4>
            <div class="nav-list">
              <button class="mobile-nav-btn" data-target="home">Beranda</button>
              <button class="mobile-nav-btn" data-target="services" aria-expanded="false">Layanan <span style="opacity:.7">▸</span></button>
              <div class="sub-list" data-for="services">
                <a href="#services" data-target="services">Pengembangan Perangkat Lunak</a>
                <a href="#services" data-target="services">Cloud & Infrastruktur</a>
                <a href="#services" data-target="services">Data & AI</a>
              </div>

              <button class="mobile-nav-btn" data-target="portfolio" aria-expanded="false">Portofolio <span style="opacity:.7">▸</span></button>
              <div class="sub-list" data-for="portfolio">
                <a href="#portfolio" data-target="portfolio">RetailX</a>
                <a href="#portfolio" data-target="portfolio">SehatCare</a>
                <a href="#portfolio" data-target="portfolio">FinAnalytics</a>
              </div>

              <button class="mobile-nav-btn" data-target="team">Tim</button>
              <button class="mobile-nav-btn" data-target="careers">Karir</button>
              <button class="mobile-nav-btn" data-target="contact">Kontak</button>
            </div>
          </div>

          <div class="nav-section">
            <h4>Quick Actions</h4>
            <div style="display:flex;gap:8px;flex-wrap:wrap">
              <button class="cta" id="mobileConsult">Konsultasi</button>
              <button class="btn-outline" id="mobileDemo">Request Demo</button>
            </div>
          </div>

          <div style="margin-top:18px;color:var(--muted);font-size:13px">
            © PT. Teknologi Maju
          </div>
        </nav>
      </div>

      <!-- Page content -->
      <main class="content" id="content">
        <!-- HERO -->
        <div class="section-container">
          <section id="home" class="hero" aria-label="Hero">
            <div class="hero-left">
              <span style="display:inline-block;padding:6px 10px;border-radius:999px;background:rgba(31,182,199,0.08);color:var(--accent);font-weight:700;font-size:13px">Enterprise IT</span>
              <h1>Transformasi Digital yang Terukur dan Berkelanjutan</h1>
              <p class="muted">Kami membantu organisasi besar dan menengah merancang arsitektur teknologi yang aman, hemat biaya, dan berorientasi hasil bisnis.</p>
              <div style="display:flex;gap:12px;margin-top:12px">
                <button class="cta ripple" id="consultBtn">Konsultasi Gratis</button>
                <button class="btn-outline ripple" id="learnBtn">Pelajari Metodologi</button>
              </div>
            </div>

            <div class="hero-right">
              <img src="https://cdn.vectorstock.com/i/500p/23/63/concept-blockchain-technology-vector-27122363.jpg" alt="Ilustrasi teknologi" loading="lazy">
            </div>
          </section>
        </div>

        <!-- SERVICES -->
        <div class="section-container">
          <section id="services">
            <h2 style="margin-top:0">Layanan Kami</h2>
            <div style="margin-top:12px" class="grid-3">
              <div class="card"><h3>Pengembangan Perangkat Lunak</h3><p class="muted">Aplikasi web & mobile, microservices, API-first.</p></div>
              <div class="card"><h3>Cloud & Infrastruktur</h3><p class="muted">Migrasi, IaC, optimasi biaya, keamanan.</p></div>
              <div class="card"><h3>Data & AI</h3><p class="muted">Data platform, pipeline, MLOps.</p></div>
            </div>
          </section>
        </div>

        <!-- PORTFOLIO -->
        <div class="section-container">
          <section id="portfolio">
            <h2 style="margin-top:0">Portofolio</h2>
            <div style="margin-top:12px;display:flex;flex-direction:column;gap:12px">
              <div class="card"><h3>RetailX</h3><p class="muted">E-commerce enterprise — microservices & scaling.</p></div>
              <div class="card"><h3>SehatCare</h3><p class="muted">EMR & interoperabilitas FHIR.</p></div>
              <div class="card"><h3>FinAnalytics</h3><p class="muted">Streaming analytics & anomaly detection.</p></div>
            </div>
          </section>
        </div>

        <!-- TEAM -->
        <div class="section-container">
          <section id="team">
            <h2 style="margin-top:0">Tim Inti</h2>
            <div style="display:flex;gap:12px;margin-top:12px;flex-wrap:wrap">
              <div class="card" style="min-width:220px"><h3>Arief Santoso — CEO</h3><p class="muted">20+ tahun pengalaman.</p></div>
              <div class="card" style="min-width:220px"><h3>Rina Putri — CTO</h3><p class="muted">Arsitektur cloud & data.</p></div>
              <div class="card" style="min-width:220px"><h3>Bayu Pratama — Head Delivery</h3><p class="muted">Delivery excellence.</p></div>
            </div>
          </section>
        </div>

        <!-- CAREERS -->
        <div class="section-container">
          <section id="careers">
            <h2 style="margin-top:0">Karir</h2>
            <div class="careers-grid" style="margin-top:12px">
              <div class="card job"><h3>Software Engineer</h3><p class="muted">Backend • 3+ tahun</p></div>
              <div class="card job"><h3>Data Engineer</h3><p class="muted">Spark, Kafka</p></div>
              <div class="card job"><h3>DevOps / SRE</h3><p class="muted">Terraform, K8s</p></div>
            </div>
          </section>
        </div>

        <!-- CONTACT -->
        <div class="section-container">
          <section id="contact">
            <h2 style="margin-top:0">Kontak</h2>
            <div style="display:flex;gap:12px;margin-top:12px;flex-wrap:wrap">
              <div class="card" style="flex:1;min-width:260px">
                <h3>Alamat</h3>
                <p class="muted">Jalan Contoh No. 123, Jakarta Selatan</p>
                <h3 style="margin-top:12px">Email</h3>
                <p class="muted">sales@teknologimaju.co.id</p>
              </div>

              <div class="card" style="flex:1;min-width:260px">
                <h3>Form Kontak</h3>
                <form id="contactForm" style="display:flex;flex-direction:column;gap:10px" onsubmit="return false;">
                  <input type="text" id="name" placeholder="Nama lengkap" required>
                  <input type="email" id="email" placeholder="Email" required>
                  <textarea id="message" placeholder="Pesan singkat" rows="4" required></textarea>
                  <div style="display:flex;gap:10px;align-items:center">
                    <button type="submit" class="cta ripple" id="sendBtn">Kirim Pesan</button>
                    <button type="button" class="btn-outline ripple" id="openModal">Request Demo</button>
                  </div>
                </form>
              </div>
            </div>
          </section>
        </div>

        <footer style="padding:28px 20px;color:var(--muted);text-align:center">© PT. Teknologi Maju — Semua hak dilindungi</footer>
      </main>
    </div>
  </div>

  <!-- Modal -->
  <div class="modal-backdrop" id="modalBackdrop" aria-hidden="true">
    <div class="modal" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
      <div style="display:flex;justify-content:space-between;align-items:center;gap:12px">
        <div>
          <h3 id="modalTitle">Request Demo</h3>
          <p class="muted">Isi form singkat untuk menjadwalkan demo produk dan konsultasi teknis.</p>
        </div>
        <button id="closeModal" class="icon-btn" aria-label="Tutup">✕</button>
      </div>

      <form id="demoForm" style="display:flex;flex-direction:column;gap:10px;margin-top:12px" onsubmit="return false;">
        <input type="text" id="demoName" placeholder="Nama Perusahaan / Nama Anda" required>
        <input type="email" id="demoEmail" placeholder="Email" required>
        <textarea id="demoNote" placeholder="Catatan singkat" rows="4"></textarea>
        <div style="display:flex;gap:10px;align-items:center;margin-top:6px">
          <button class="cta ripple" id="demoSubmit">Kirim Request</button>
          <button type="button" class="btn-outline ripple" id="demoCancel">Batal</button>
        </div>
      </form>
    </div>
  </div>

  <!-- Toast -->
  <div class="toast" id="toast" role="status" aria-live="polite">Pesan terkirim. Terima kasih!</div>

  <script>
    // Core elements
    const app = document.getElementById('app');
    const toggleSidebar = document.getElementById('toggleSidebar');
    const brandCompact = document.getElementById('brandCompact');
    const navItems = document.querySelectorAll('.nav-item');
    const homeBtn = document.getElementById('homeBtn');
    const OFFSET = parseInt(getComputedStyle(document.documentElement).getPropertyValue('--topbar-h')) || 64;

    // Mobile nav elements
    const mobileMenuBtn = document.getElementById('mobileMenuBtn');
    const mobileNavBackdrop = document.getElementById('mobileNavBackdrop');
    const mobileNavClose = document.getElementById('mobileNavClose');
    const mobileNavBtns = document.querySelectorAll('.mobile-nav-btn');
    const mobileSubLists = document.querySelectorAll('.sub-list');

    // Theme toggle elements (desktop & mobile)
    const themeToggle = document.getElementById('themeToggle');
    const mobileThemeToggle = document.getElementById('mobileThemeToggle');

    // Modal & forms
    const modalBackdrop = document.getElementById('modalBackdrop');
    const openModalBtns = document.querySelectorAll('#openModal, #mobileDemo, #mobileConsult, #consultBtn');
    const closeModal = document.getElementById('closeModal');
    const demoCancel = document.getElementById('demoCancel');
    const demoForm = document.getElementById('demoForm');
    const demoSubmit = document.getElementById('demoSubmit');
    const contactForm = document.getElementById('contactForm');
    const sendBtn = document.getElementById('sendBtn');
    const toast = document.getElementById('toast');

    // Theme icon helper
    function setThemeIcon(isLight, btn){
      const svg = btn.querySelector('.theme-icon') || btn.querySelector('svg');
      if(!svg) return;
      if(isLight){
        svg.innerHTML = `<svg viewBox="0 0 24 24" width="18" height="18" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"><circle cx="12" cy="12" r="4" stroke="currentColor" stroke-width="1.4"/><path d="M12 2v2M12 20v2M4.93 4.93l1.41 1.41M17.66 17.66l1.41 1.41M2 12h2M20 12h2M4.93 19.07l1.41-1.41M17.66 6.34l1.41-1.41" stroke="currentColor" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"/></svg>`;
      } else {
        svg.innerHTML = `<svg viewBox="0 0 24 24" width="18" height="18" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z" stroke="currentColor" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"/></svg>`;
      }
    }

    // Apply theme
    function applyTheme(lightMode){
      if(lightMode){
        document.documentElement.classList.add('light-theme');
        themeToggle.setAttribute('aria-pressed','true');
        setThemeIcon(true, themeToggle);
        setThemeIcon(true, mobileThemeToggle);
      } else {
        document.documentElement.classList.remove('light-theme');
        themeToggle.setAttribute('aria-pressed','false');
        setThemeIcon(false, themeToggle);
        setThemeIcon(false, mobileThemeToggle);
      }
      try { localStorage.setItem('lightMode', lightMode ? '1' : '0'); } catch(e){}
    }

    // Initialize theme
    function initTheme(){
      try {
        const saved = localStorage.getItem('lightMode');
        if(saved === '1'){ applyTheme(true); return; }
        if(saved === '0'){ applyTheme(false); return; }
      } catch(e){}
      const prefersLight = window.matchMedia && window.matchMedia('(prefers-color-scheme: light)').matches;
      applyTheme(prefersLight);
    }

    // Toggle theme handlers
    themeToggle.addEventListener('click', () => {
      const isLight = document.documentElement.classList.contains('light-theme');
      applyTheme(!isLight);
      showToast(!isLight ? 'Tema terang diaktifkan' : 'Tema gelap diaktifkan', 1200);
    });
    mobileThemeToggle.addEventListener('click', () => {
      const isLight = document.documentElement.classList.contains('light-theme');
      applyTheme(!isLight);
      showToast(!isLight ? 'Tema terang diaktifkan' : 'Tema gelap diaktifkan', 1200);
    });

    // Sidebar open/close (desktop)
    function setSidebarOpen(open){
      if(open) app.classList.add('sidebar-open'); else app.classList.remove('sidebar-open');
      try { localStorage.setItem('sidebarOpen', open ? '1' : '0'); } catch(e){}
    }
    toggleSidebar.addEventListener('click', ()=> setSidebarOpen(!app.classList.contains('sidebar-open')));
    brandCompact.addEventListener('click', ()=> setSidebarOpen(!app.classList.contains('sidebar-open')));
    try{ if(localStorage.getItem('sidebarOpen') === '1') setSidebarOpen(true); } catch(e){}

    // Mobile nav open/close
    mobileMenuBtn.addEventListener('click', () => {
      mobileNavBackdrop.classList.add('open');
      mobileNavBackdrop.setAttribute('aria-hidden','false');
      document.body.style.overflow = 'hidden';
    });
    mobileNavClose.addEventListener('click', closeMobileNav);
    mobileNavBackdrop.addEventListener('click', (e) => {
      if(e.target === mobileNavBackdrop) closeMobileNav();
    });
    function closeMobileNav(){
      mobileNavBackdrop.classList.remove('open');
      mobileNavBackdrop.setAttribute('aria-hidden','true');
      document.body.style.overflow = '';
      // collapse all sublists
      mobileSubLists.forEach(s => s.style.display = 'none');
      document.querySelectorAll('.mobile-nav-btn[aria-expanded="true"]').forEach(b => b.setAttribute('aria-expanded','false'));
    }

    // Expandable lists in mobile nav
    mobileNavBtns.forEach(btn => {
      btn.addEventListener('click', (e) => {
        const target = btn.getAttribute('data-target');
        // if button has sublist
        const sub = document.querySelector(`.sub-list[data-for="${target}"]`);
        if(sub){
          const isOpen = sub.style.display === 'flex';
          // close others
          mobileSubLists.forEach(s => { if(s !== sub) s.style.display = 'none'; });
          document.querySelectorAll('.mobile-nav-btn').forEach(b => { if(b !== btn) b.setAttribute('aria-expanded','false'); });
          if(isOpen){
            sub.style.display = 'none';
            btn.setAttribute('aria-expanded','false');
          } else {
            sub.style.display = 'flex';
            btn.setAttribute('aria-expanded','true');
          }
          return;
        }
        // otherwise it's a direct navigation
        if(target === 'home'){ window.scrollTo({ top:0, behavior:'smooth' }); }
        else { scrollToSection(target); }
        closeMobileNav();
      });
    });

    // Mobile quick actions
    document.getElementById('mobileConsult').addEventListener('click', () => {
      closeMobileNav();
      scrollToSection('contact');
      showToast('Silakan isi form kontak untuk konsultasi.');
    });
    document.getElementById('mobileDemo').addEventListener('click', () => {
      closeMobileNav();
      openModal();
    });

    // Scroll-to with offset
    function scrollToSection(id){
      const el = document.getElementById(id);
      if(!el) return;
      const rect = el.getBoundingClientRect();
      const absoluteTop = window.pageYOffset + rect.top;
      const target = Math.max(absoluteTop - OFFSET + 8, 0);
      window.scrollTo({ top: target, behavior: 'smooth' });
    }

    // Attach click handlers to desktop nav items
    navItems.forEach(item => {
      item.addEventListener('click', (e) => {
        e.preventDefault();
        const targetId = item.getAttribute('data-target') || item.getAttribute('href').replace('#','');
        if(targetId === 'home'){ window.scrollTo({ top:0, behavior:'smooth' }); } else { scrollToSection(targetId); }
        if(window.innerWidth <= 720) setSidebarOpen(false);
      });
    });
    homeBtn.addEventListener('click', (e) => { e.preventDefault(); window.scrollTo({ top:0, behavior:'smooth' }); if(window.innerWidth <= 720) setSidebarOpen(false); });

    // Modal open/close
    function openModal(){
      modalBackdrop.classList.add('open');
      modalBackdrop.setAttribute('aria-hidden','false');
      document.body.style.overflow = 'hidden';
      setTimeout(()=> document.getElementById('demoName').focus(), 120);
    }
    openModalBtns.forEach(b => { if(b) b.addEventListener('click', (e) => { e.preventDefault(); openModal(); }); });
    function closeModalFn(){ modalBackdrop.classList.remove('open'); modalBackdrop.setAttribute('aria-hidden','true'); document.body.style.overflow = ''; }
    if(closeModal) closeModal.addEventListener('click', closeModalFn);
    if(demoCancel) demoCancel.addEventListener('click', closeModalFn);
    modalBackdrop.addEventListener('click', (e) => { if(e.target === modalBackdrop) closeModalFn(); });
    document.addEventListener('keydown', (e) => { if(e.key === 'Escape' && modalBackdrop.classList.contains('open')) closeModalFn(); });

    // Forms simulation
    if(contactForm){
      contactForm.addEventListener('submit', (e) => {
        e.preventDefault();
        sendBtn.disabled = true;
        sendBtn.textContent = 'Mengirim...';
        setTimeout(() => {
          sendBtn.disabled = false;
          sendBtn.textContent = 'Kirim Pesan';
          contactForm.reset();
          showToast('Pesan terkirim. Tim kami akan menghubungi Anda.');
        }, 1200);
      });
    }
    if(demoForm){
      demoForm.addEventListener('submit', (e) => {
        e.preventDefault();
        demoSubmit.disabled = true;
        demoSubmit.textContent = 'Mengirim...';
        setTimeout(() => {
          demoSubmit.disabled = false;
          demoSubmit.textContent = 'Kirim Request';
          demoForm.reset();
          closeModalFn();
          showToast('Request demo diterima. Kami akan menghubungi Anda.');
        }, 1200);
      });
    }

    // Accordion behavior (desktop FAQ)
    document.querySelectorAll('.acc-item .acc-head').forEach(head => {
      head.addEventListener('click', () => {
        const item = head.parentElement;
        const open = item.classList.contains('open');
        document.querySelectorAll('.acc-item').forEach(i => i.classList.remove('open'));
        if(!open) item.classList.add('open');
      });
    });

    // Active nav on scroll
    const sections = Array.from(document.querySelectorAll('main .content section, main .content #home')).map(s => s.id).filter(Boolean).map(id => document.getElementById(id)).filter(Boolean);
    const observerOptions = { root: null, rootMargin: `-${OFFSET + 10}px 0px -40% 0px`, threshold: 0 };
    function setActiveNav(id){
      navItems.forEach(n => {
        const target = n.getAttribute('data-target') || n.getAttribute('href').replace('#','');
        if(target === id) n.classList.add('active'); else n.classList.remove('active');
      });
    }
    const io = new IntersectionObserver((entries) => {
      entries.forEach(entry => { if(entry.isIntersecting){ setActiveNav(entry.target.id); } });
    }, observerOptions);
    sections.forEach(sec => { if(sec) io.observe(sec); });

    // Toast helper
    function showToast(message = 'Tindakan berhasil', duration = 3000){
      toast.textContent = message;
      toast.classList.add('show');
      setTimeout(()=> toast.classList.remove('show'), duration);
    }

    // Ripple effect
    document.querySelectorAll('.ripple').forEach(btn => {
      btn.addEventListener('click', function (e) {
        const rect = this.getBoundingClientRect();
        const circle = document.createElement('span');
        const size = Math.max(rect.width, rect.height) * 1.6;
        circle.style.width = circle.style.height = size + 'px';
        circle.style.position = 'absolute';
        circle.style.left = (e.clientX - rect.left - size/2) + 'px';
        circle.style.top = (e.clientY - rect.top - size/2) + 'px';
        circle.style.background = 'rgba(255,255,255,0.06)';
        circle.style.borderRadius = '50%';
        circle.style.transform = 'scale(0)';
        circle.style.opacity = '1';
        circle.style.pointerEvents = 'none';
        circle.style.transition = 'transform 600ms ease, opacity 400ms ease';
        this.style.position = 'relative';
        this.appendChild(circle);
        requestAnimationFrame(() => { circle.style.transform = 'scale(1)'; circle.style.opacity = '0'; });
        setTimeout(() => circle.remove(), 700);
      });
    });

    // Prevent text selection on icons
    document.querySelectorAll('.nav-btn, .nav-item, .icon-btn, .toggle-sidebar, .theme-btn, .mobile-hamburger, .mobile-theme').forEach(el => {
      el.addEventListener('mousedown', (e) => e.preventDefault());
    });

    // Initialize theme and initial nav state
    initTheme();
    window.addEventListener('load', () => {
      if(location.hash){ const id = location.hash.replace('#',''); setTimeout(()=> scrollToSection(id), 120); }
      let current = sections[0]?.id || null;
      for(const sec of sections){ const rect = sec.getBoundingClientRect(); if(rect.top - OFFSET <= 8) current = sec.id; }
      if(current) setActiveNav(current);
      // set theme icons for both buttons
      const isLight = document.documentElement.classList.contains('light-theme');
      setThemeIcon(isLight, themeToggle);
      setThemeIcon(isLight, mobileThemeToggle);
    });

    // Helper to set theme icon content (for initial render)
    function setThemeIcon(isLight, btn){
      if(!btn) return;
      const svg = btn.querySelector('svg');
      if(!svg) return;
      if(isLight){
        svg.innerHTML = `<circle cx="12" cy="12" r="4" stroke="currentColor" stroke-width="1.4"/><path d="M12 2v2M12 20v2M4.93 4.93l1.41 1.41M17.66 17.66l1.41 1.41M2 12h2M20 12h2M4.93 19.07l1.41-1.41M17.66 6.34l1.41-1.41" stroke="currentColor" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"/>`;
      } else {
        svg.innerHTML = `<path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z" stroke="currentColor" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"/>`;
      }
    }
  </script>
</body>
</html>
